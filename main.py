import plotly.express as px
import streamlit as st
from PIL import Image
import pandas as pd

st.set_page_config(page_title="مقایسه انتخابات ایران و فرانسه", layout="centered")
st.markdown("""
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap');

    /* همه چیز راست‌چین و فونت وزیر */
    .main, .block-container {
        direction: rtl;
        text-align: right;
        font-family: 'Vazirmatn', sans-serif !important;
    }

    h1, h2, h3, h4, h5, h6 {
        text-align: right !important;
    }

    /* فقط sidebar چپ‌چین بمونه */
    [data-testid="stSidebar"] {
        direction: ltr;
        text-align: left;
    }
    </style>
""", unsafe_allow_html=True)
def present():
    ima=Image.open('god.jpg')
    st.image(ima,caption="",width=500,use_container_width=True)
    st.title("موضوع ارائه : مقایسه مدل انتخابات ایران با یکی از کشورها(فرانسه)")
    st.title("زیر نظر دکتر ابوصالح")
    st.markdown(" تهیه کنندگان : ارمیا جعفرپور زنوزی و هیوا اسکندری و جمعی از دوستان")
# مقدمه
def part_one():
    ima=Image.open('p6.jpg')
    st.image(ima,caption="دیدگاهی از خدا درباره انتخابات",width=500,use_container_width=True)
    st.header("📖 آیه‌ای از قرآن درباره امانت‌داری در انتخاب")

    st.markdown("""
    > **إِنَّ اللَّهَ يَأْمُرُكُمْ أَنْ تُؤَدُّوا الْأَمَانَاتِ إِلَىٰ أَهْلِهَا**  
    > **وَإِذَا حَكَمْتُم بَيْنَ النَّاسِ أَن تَحْكُمُوا بِالْعَدْلِ**  
    > **إِنَّ اللَّهَ نِعِمَّا يَعِظُكُم بِهِ ۗ إِنَّ اللَّهَ كَانَ سَمِيعًا بَصِيرًا**  
    > *(سوره نساء - آیه 58)*
    """)

    st.markdown("""
    🔹 **ترجمه:**  
    خداوند به شما فرمان می‌دهد که امانت‌ها را به اهلش بسپارید و چون میان مردم داوری می‌کنید، به عدالت داوری کنید. همانا خداوند، پند نیکویی به شما می‌دهد، و او شنوا و بیناست.

    🔸 **ارتباط با موضوع:**  
    این آیه یکی از پایه‌ای‌ترین اصول در انتخاب مسئولان را بیان می‌کند:  
    📌 *امانت‌داری در رأی دادن* و *عدالت در انتخاب*.  
    انتخابات، امانتی است که مردم باید آن را به اهلش بسپارند و نظام‌ها نیز باید این امانت را با عدالت پاس دارند.

    """)
    ima=Image.open('p1.png')
    st.image(ima,caption="مقایسه  نحوه انخابات ایران و فرانسه",width=500,use_container_width=True)
    st.title("🗳️ مقایسه مدل انتخابات ایران و فرانسه")
    st.markdown("---")
    st.header("مقدمه")
    st.write("""
    انتخابات یکی از اصلی‌ترین ابزارهای مردم‌سالاری در هر کشور است. در این ارائه قصد داریم 
    مدل انتخابات در ****جمهوری اسلامی ایران**** را با ****فرانسه****، یکی از قدیمی‌ترین دموکراسی‌های جهان، مقایسه کنیم.  
    این مقایسه به ما کمک می‌کند تفاوت‌ها و شباهت‌ها را بهتر درک کنیم.
    """)

    st.title("مقایسه انتخابات ایران و فرانسه 🇮🇷 🇫🇷")

    st.header("✅ شباهت‌های انتخابات ایران و فرانسه")

    similarities = {
        "مورد": [
            "برگزاری انتخابات عمومی",
            "وجود ریاست‌جمهوری",
            "نظام قانونی برای نظارت بر انتخابات",
            "برگزاری دوره‌ای انتخابات",
            "تعیین سرنوشت کشور توسط رأی مردم"
        ],
        "توضیح": [
            "هر دو کشور انتخابات با مشارکت مستقیم مردم برگزار می‌کنند.",
            "هم ایران و هم فرانسه دارای مقام ریاست‌جمهوری هستند.",
            "هر دو کشور نهادی برای نظارت بر صحت انتخابات دارند.",
            "انتخابات ریاست‌جمهوری و پارلمانی به‌صورت دوره‌ای برگزار می‌شود.",
            "رأی مردم در تعیین مسئولان اجرایی نقش اساسی دارد."
        ]
    }

    df_similar = pd.DataFrame(similarities)
    st.table(df_similar)

    st.header("❌ تفاوت‌های انتخابات ایران و فرانسه")

    differences = {
        "موضوع": [
            "نوع حکومت",
            "ناظر انتخابات",
            "آزادی کاندیداتوری",
            "مشارکت احزاب سیاسی",
            "تعداد مراحل انتخابات ریاست‌جمهوری",
            "نقش رهبر یا رئیس دولت",
            "نوع نظارت بر صلاحیت‌ها"
        ],
        "ایران": [
            "جمهوری اسلامی با رهبری دینی",
            "شورای نگهبان (با اختیار رد صلاحیت)",
            "محدود؛ نظارت استصوابی وجود دارد",
            "محدودتر با نظارت زیاد",
            "یک مرحله",
            "رهبر فراتر از قوا، نقش نهایی دارد",
            "سیاسی و دینی (نظارت استصوابی)"
        ],
        "فرانسه": [
            "جمهوری نیمه‌ریاستی سکولار",
            "شورای قانون اساسی (نظارت شکلی)",
            "آزاد؛ فقط نیاز به حمایت رسمی دارد",
            "کاملاً آزاد با رقابت حزبی",
            "دو مرحله",
            "رئیس‌جمهور با رأی مردم و قدرت بالا",
            "فقط بررسی مدارک قانونی"
        ]
    }

    df_diff = pd.DataFrame(differences)
    st.dataframe(df_diff)


    st.title("📊 مقایسه انتخابات ایران و فرانسه")

    st.markdown("در این جدول، تفاوت‌ها و شباهت‌های ساختار انتخاباتی ایران و فرانسه نمایش داده شده است:")

    data = {
        "موضوع": [
            "نوع نظام",
            "رئیس دولت",
            "نوع انتخابات ریاست‌جمهوری",
            "میزان نظارت بر کاندیداها",
            "نقش دین در حکومت",
            "میزان مشارکت احزاب",
            "مدت دوره ریاست‌جمهوری",
            "نهاد ناظر بر انتخابات"
        ],
        "ایران 🇮🇷": [
            "جمهوری اسلامی",
            "رئیس‌جمهور (زیر نظر رهبری)",
            "دو مرحله‌ای با نظارت استصوابی",
            "شورای نگهبان بررسی و تأیید می‌کند",
            "دین رسمی: اسلام / تأثیر بالا",
            "فعالیت محدود تحت نظارت",
            "۴ سال",
            "شورای نگهبان"
        ],
        "فرانسه 🇫🇷": [
            "جمهوری نیمه‌ریاستی سکولار",
            "رئیس‌جمهور (با نخست‌وزیر)",
            "دو مرحله‌ای با نظارت شکلی",
            "شورای قانون اساسی فقط روند را بررسی می‌کند",
            "دین از سیاست جداست (سکولار)",
            "آزادی کامل احزاب سیاسی",
            "۵ سال",
            "شورای قانون اساسی"
        ]
    }

    df = pd.DataFrame(data)
    st.table(df)


    st.title("📘 واژه‌نامه تخصصی انتخابات ایران و فرانسه")

    st.markdown("---")

    definitions = {
        "سکولار": "🔸 جدایی دین از سیاست و حکومت. در نظام سکولار، دین در تصمیم‌گیری‌های حکومتی نقشی ندارد.",
        "نظارت استصوابی": "🔸 نوعی نظارت که نهاد ناظر (مثل شورای نگهبان) می‌تواند صلاحیت کاندیداها را تأیید یا رد کند، نه فقط بررسی مدارک.",
        "جمهوری نیمه‌ریاستی": "🔸 ساختاری که در آن هم رئیس‌جمهور و هم نخست‌وزیر نقش دارند، ولی رئیس‌جمهور قدرت اجرایی بیشتری دارد (مثل فرانسه).",
        "جمهوری اسلامی": "🔸 حکومتی مبتنی بر رأی مردم و اصول اسلامی. در ایران، رهبر نقش کلیدی در تصمیم‌گیری‌ها دارد.",
        "شورای قانون اساسی": "🔸 نهادی در فرانسه که فقط بررسی می‌کند قوانین و انتخابات مطابق قانون اساسی باشند؛ نمی‌تواند کاندیداها را رد کند.",
        "شورای نگهبان": "🔸 نهادی در ایران که هم وظیفه تطبیق قوانین با شرع دارد و هم می‌تواند کاندیداها را تأیید یا رد صلاحیت کند.",
        "مشروعیت دینی": "🔸 یعنی حکومت باید از نظر دین نیز معتبر باشد، نه فقط قانونی. در ایران مشروعیت هم از مردم و هم از دین گرفته می‌شود.",
        "انتخابات دو مرحله‌ای": "🔸 اگر هیچ کاندیدایی در دور اول اکثریت نیاورد، دو نفر اول به دور دوم می‌روند (مثل فرانسه).",
        "احزاب سیاسی": "🔸 گروه‌هایی با اندیشه مشترک که در انتخابات شرکت می‌کنند. در فرانسه آزادترند، در ایران نظارت بیشتری هست."
    }

    for word, explanation in definitions.items():
        with st.expander(f"📖 {word}"):
            st.write(explanation)

    st.success("می‌تونید هر واژه ای که در جدول بالا برای تان گنگ بود انتخاب کرده و مفهوم کلی آنرا مشاهده کنید 😊")


def part_two():
    ima=Image.open('p2.png')
    st.image(ima,caption="",width=200,use_container_width=True)
    # مدل انتخابات در ایران
    st.header("مدل انتخابات در ایران")
    st.write("""
    - نظام جمهوری اسلامی با رهبری دینی  
    - برگزارکننده انتخابات: وزارت کشور  
    - ناظر: شورای نگهبان (۶ فقیه + ۶ حقوقدان)  
    - نظارت استصوابی: بررسی صلاحیت داوطلبان قبل از انتخابات  
    - انتخابات ریاست‌جمهوری، مجلس، شوراها و خبرگان  
    - نقش رهبری در تأیید نهایی روند و نتایج انتخابات
    """)

    # مدل انتخابات در فرانسه
    st.header("مدل انتخابات در فرانسه")
    st.write("""
    - نظام جمهوری نیمه‌ریاستی  
    - انتخابات ریاست‌جمهوری در دو مرحله با رأی مستقیم مردم  
    - نهاد ناظر: شورای قانون اساسی (قضات مستقل، بدون رد صلاحیت سیاسی)  
    - آزادی کامل احزاب و نامزدها  
    - مشارکت بالا و رقابت آزاد میان کاندیداها
    """)

    # مقایسه
    st.header("مقایسه مستقیم")
    st.table({
        "موضوع": ["نوع نظام", "نهاد ناظر", "آزادی کاندیداتوری", "رأی‌گیری", "نقش نهایی"],
        "ایران": ["جمهوری اسلامی", "شورای نگهبان", "محدود (نظارت استصوابی)", "مستقیم", "رهبر"],
        "فرانسه": ["جمهوری لائیک نیمه‌ریاستی", "شورای قانون اساسی", "آزاد و بی‌طرف", "دو مرحله‌ای", "شورای قانون اساسی"]
    })
    st.title("📊 مقایسه مشارکت مردم در انتخابات ایران و فرانسه")

    # داده‌ها
    data = {
        "سال": [1388, 1392, 1396, 1400, 2012, 2017, 2022],
        "درصد مشارکت": [85, 73, 73, 48, 80, 75, 73],
        "کشور": ["ایران"] * 4 + ["فرانسه"] * 3
    }

    df = pd.DataFrame(data)

    # ساخت نمودار
    fig = px.line(
        df,
        x="سال",
        y="درصد مشارکت",
        color="کشور",
        markers=True,
        title="مقایسه مشارکت مردم در انتخابات ریاست‌جمهوری 🇮🇷🇫🇷",
        labels={"درصد مشارکت": "درصد مشارکت", "سال": "سال"}
    )

    fig.update_layout(hovermode="x unified", template="plotly_white")

    # نمایش نمودار در استریم‌لیت
    st.plotly_chart(fig, use_container_width=True)
    st.title("📉 دلایل کاهش مشارکت مردم در انتخابات ایران و فرانسه")

    # توضیحات
    st.write("""
        مشارکت مردم در انتخابات، به‌ویژه در انتخابات ریاست‌جمهوری، یکی از مهم‌ترین شاخص‌ها برای ارزیابی سلامت دموکراسی و اعتماد عمومی به سیستم سیاسی است.
        در این بخش به بررسی دلایل کاهش مشارکت مردم در انتخابات ایران و فرانسه پرداخته‌ایم.
    """)

    # انتخاب کشور
    country = st.selectbox("کشور را انتخاب کنید:", ["ایران", "فرانسه"])

    if country == "ایران":
        st.subheader("دلایل کاهش مشارکت مردم در انتخابات ایران 🇮🇷")
        st.write("""
        1. **رد صلاحیت‌ها و محدودیت‌های انتخاباتی:**
            - بسیاری از نامزدهای مخالف یا افرادی که دیدگاه‌های متفاوتی دارند، رد صلاحیت می‌شوند و این باعث کاهش تنوع انتخاباتی می‌شود.
        
        2. **ناامیدی و نارضایتی از سیستم اقتصادی:**
            - نارضایتی عمومی از وضعیت اقتصادی و اجتماعی کشور می‌تواند باعث کاهش مشارکت در انتخابات شود.
        
        3. **جنگ نرم و رسانه‌ های خارجی:**
            - سانسور و محدودیت‌های رسانه‌ای باعث کاهش دسترسی مردم به اطلاعات صحیح می‌شود.
        
        
        """)
        
    elif country == "فرانسه":
        st.subheader("دلایل کاهش مشارکت مردم در انتخابات فرانسه 🇫🇷")
        st.write("""
        1. **بی‌اعتمادی به سیاستمداران:**
            - بی‌اعتمادی عمومی به سیاستمداران و احساس اینکه سیاستمداران بیشتر به منافع خود توجه دارند.
        
        2. **دور شدن از سیاست:**
            - بسیاری از مردم به دلیل عدم علاقه به سیاست، احساس می‌کنند که سیاست تأثیری در زندگی‌شان ندارد.
        
        3. **افزایش تعداد انتخابات و پیچیدگی روند انتخاباتی:**
            - تعداد زیاد انتخابات و پیچیدگی‌های فرآیند انتخاباتی باعث می‌شود که مردم از شرکت در آن‌ها منصرف شوند.
        
        4. **خستگی از سیاست و انتخابات مکرر:**
            - انتخابات مکرر باعث خستگی سیاسی مردم می‌شود و آنان انگیزه‌ای برای مشارکت در انتخابات‌های مختلف ندارند.
        
        5. **اعتراض به سیستم و مشکلات اجتماعی:**
            - اعتراضات اجتماعی مانند جنبش **جلیقه زردها** که ناشی از نارضایتی از سیستم سیاسی است، موجب کاهش مشارکت مردم در انتخابات می‌شود.
        """)

    # جدول مقایسه‌ای
    st.subheader("مقایسه دلایل کاهش مشارکت بین ایران و فرانسه")
    st.write("""
    | کشور | دلیل اصلی کاهش مشارکت |
    |------|-----------------------|
    | **ایران** | رد صلاحیت‌ها، نارضایتی از وضعیت اقتصادی، محدودیت‌های رسانه‌ای |
    | **فرانسه** | بی‌اعتمادی به سیاستمداران، پیچیدگی روند انتخاباتی، خستگی از انتخابات مکرر، اعتراضات اجتماعی |
    """)
def part_three():
    ima=Image.open('p3.png')
    st.image(ima,caption="",width=500,use_container_width=True)
    st.title('مقایسه روند کاندید شدن و موفقیت در انتخابات ایران و فرانسه')
    st.markdown("""
    در این ارائه به مقایسه روند کاندید شدن و موفقیت در انتخاب شدن یک شرکت‌کننده در انتخابات ایران و فرانسه می‌پردازیم.
    """)

    # بخش مقایسه روند انتخابات ایران و فرانسه
    st.header('مقایسه روند انتخابات ایران و فرانسه')

    data = {
        'مرحله': ['کاندید شدن', 'بررسی صلاحیت', 'انتخابات', 'دور دوم', 'انتخاب رئیس‌جمهور'],
        'ایران 🇮🇷': [
            'ثبت‌نام در وزارت کشور، تایید صلاحیت توسط شورای نگهبان',
            'بررسی صلاحیت توسط شورای نگهبان',
            'انتخابات ریاست‌جمهوری یک مرحله‌ای یا دو مرحله‌ای',
            'تنها در صورتی که هیچ‌کدام از نامزدها بیش از ۵۰ درصد آرا را کسب نکنند، دور دوم برگزار می‌شود',
            'نامزدی که بیشتر از ۵۰ درصد آرا را کسب کند انتخاب می‌شود'
        ],
        'فرانسه 🇫🇷': [
            'ثبت‌نام رسمی و جمع‌آوری حداقل ۵۰۰ امضا از مقامات منتخب',
            'هیچ‌گونه بررسی صلاحیتی وجود ندارد',
            'انتخابات دو مرحله‌ای',
            'همیشه یک دور دوم برگزار می‌شود، مگر اینکه یک نامزد بیش از ۵۰ درصد آرا در دور اول کسب کند',
            'نامزدی که بیش از ۵۰ درصد آرا در دور دوم کسب کند انتخاب می‌شود'
        ]
    }

    df_comparison = pd.DataFrame(data)
    st.table(df_comparison)

    # بخش نمودار مشارکت مردمی در انتخابات ایران و فرانسه
    st.header('مقایسه میزان مشارکت مردمی در انتخابات')

    # داده‌های مشارکت مردمی
    data_participation = {
        'کشور': ['ایران 🇮🇷', 'فرانسه 🇫🇷'],
        'مشارکت در انتخابات': [73.3, 74.6]  # مقادیر درصدی
    }

    df_participation = pd.DataFrame(data_participation)

    # ایجاد نمودار میله‌ای با plotly
    fig = px.bar(df_participation, x='کشور', y='مشارکت در انتخابات',
                title='میزان مشارکت مردمی در انتخابات',
                labels={'مشارکت در انتخابات': 'مشارکت (%)'},
                color='کشور', text='مشارکت در انتخابات')

    st.plotly_chart(fig)

def QuAndAw():
    ima=Image.open('p4.png')
    ima2=Image.open('p5.jpeg')
    st.image(ima2,caption="",width=500,use_container_width=True)
    st.image(ima,caption="",width=500,use_container_width=True)
    st.header("نتیجه‌گیری")
    st.write("""
    در نهایت، مدل انتخابات ایران و فرانسه تفاوت‌های بنیادینی دارند.  
    مدل ایران مبتنی بر مردم‌سالاری دینی و نظارت فقهاست، در حالی که فرانسه ساختاری سکولار، حزبی و با آزادی بیشتر دارد.

    این تفاوت‌ها بیانگر نوع نگاه هر کشور به مفهوم حاکمیت، مشروعیت و مشارکت مردمی است.
    """)

    # پایان
    st.success(" آماده‌ایم برای پاسخ به پرسش‌ های شما عزیزان")


options = st.sidebar.radio('اسلاید های ارائه',options=
                           ["بسمه تعالی",
                            'مقدمه',
                            'مدل انتخابات',
                            'روند کاندید تا انتخاب',
                            'نتیجه گیری و پرسش و پاسخ',
                            ])

if options == 'مقدمه':
    part_one()
elif options == 'مدل انتخابات':
    part_two()
elif options == 'بسمه تعالی':
    present()
elif options == 'نتیجه گیری و پرسش و پاسخ':
    QuAndAw()
elif options == 'روند کاندید تا انتخاب':
    part_three()